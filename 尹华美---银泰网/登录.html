<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="css/login.css">
    <link rel="stylesheet" type="text/css" href="css/public2.css">
</head>
<body>
<div class="wrap">
    <!--头部-->
    <div class="head">
        <div class="hemain">
            <div class="logo">
                <a href="#"><img src="images/header-20160223.gif" alt=""></a>
            </div>
            <div class="login"></div>
            <div class="service">
                <p class="sp2">
                    <strong><i>15天</i>无忧退换货</strong>
                    <b>为您提供优质售后服务</b>
                </p>
                <p class="sp3">
                    <strong><i>100%</i>正品保证</strong>
                    <b>品质护航 购物无忧</b>
                </p>
                <p class="sp4">
                    <strong><i>满199元</i>免运费</strong>
                    <b>为您提供便利物流</b>
                </p>
            </div>
        </div>
    </div>
    <!--主体-->
    <div class="main">
        <div class="inner">
            <div class="left">
                <a href="#"><img src="images/94af608a-062a-4e40-b640-e61a2d18d4b0.jpg" alt=""></a>
            </div>
            <div class="right">
                <div class="top">
                    <span class="active" id="sp1">银泰网登录</span>
                    <span id="sp2">APP扫二维码登录</span>
                    <s></s>
                </div>
                <div class="content" id="content">
                    <p class="p1"><span>立即注册</span>银泰网</p>
                    <p class="p2"><input type="text" placeholder="已验证手机/邮箱" class="tel" /></p>
                   <div class="shuru">
                       <p class="p30">请输入E-mail或手机号码</p>
                       <p class="p3">请输入正确的E-mail或已验证的手机号码</p>
                   </div>
                    <p class="p4"><input type="text" placeholder="密码" class="pswd" /></p>
                    <div class="deng">
                        <p class="p50">请输入登录密码</p>
                        <p class="p5">6-16个字符，可使用字母、数字、符号任意组合！</p>
                    </div>
                    <div class="code">
                        <p class="p6"><input type="text" placeholder="验证码" class="yzm"/> <span class="zidong"></span></p>
                        <!--<span class="huan">换一张</span>-->
                       <div class="ma">
                           <p class="p70">请输入右侧图片中的验证码！</p>
                           <p class="p7">请输入正确的验证码！</p>
                       </div>

                    </div>
                    <p class="p8">
                      <span><input type="checkbox" class="agreement" id="agreement" /> 自动登录</span>
                        <strong>公共场所不建议自动登录</strong>
                        <a href="#">忘记密码？</a>
                    </p>
                    <button class="jinru">登录</button>
                    <div class="hezuo">
                        <h3>您可以使用合作网站账号登陆</h3>  <p class="p9"></p>
                    </div>
                    <div class="link">
                        <a href="#">QQ</a><span>|</span>
                        <a href="#">支付宝</a><span>|</span>
                        <a href="#">微博</a><span>|</span>
                        <a href="#">139邮箱</a><span>|</span>
                        <a href="#">手机支付</a>
                    </div>



                </div>
                <div class="scancode">
                    <div class="code_title">用银泰网APP 扫描二维码安全登录</div>
                    <div class="code-img"><img src="images/qrcode.jpg" alt=""></div>
                    <div class="refresh">
                        <p>二维码已失效</p>
                        <span>请点击刷新</span>
                    </div>
                    <div class="saosao"><img src="images/header-login-phone.png" alt=""></div>
                    <div class="app">
                        <p>
                            <a href="#">下载银泰网APP</a>
                            <span>|</span>
                            <a href="#">使用帮助</a>
                        </p>
                    </div>
                    <div class="tip">仅限4.1.1以上版本使用</div>
                </div>

            </div>
        </div>
    </div>
    <!--底部-->
    <div class="end">
        <div class="relative">
            <a href="#">关于银泰</a>|
            <a href="#">帮助中心</a>|
            <a href="#">退换货政策</a>|
            <a href="#">网站地图</a>|
            <a href="#">代理合作</a>|
            <a href="#">品牌招商</a>|
            <a href="#">商务合作</a>|
            <a href="#">网站联盟</a>|
            <a href="#">联系我们</a>|
            <a href="#">加入银泰</a>|
            <a href="#">版权声明</a>|
            <a href="#">法律声明</a>|
        </div>
        <div class="copyright">
            <p><a href="http://zcainfo.miitbeian.gov.cn" target="_blank">浙ICP备10200233号</a><a href="javascript:void(0)">京公网安备110105019085</a><a href="javascript:void(0)">增值电信业务经营许可证：浙B2-20110005</a></p>
            <p>Yintai © 2016, 银泰电子商务有限公司.</p>
        </div>
        <div class="web-pic">
            <a href="#"><img src="images/yt-ntegrity.png" alt=""></a>
            <a href="#"><img src="images/cnnic.png" alt=""></a>
            <a href="#"><img src="images/commerce.gif" alt=""></a>
        </div>
    </div>
</div>
</body>
</html>
<script src="JQ版本/jquery-3.0.0.js"></script>
<script>
    $(function(){
//        登录切换
        var $top_sp=$(".main>.inner > .right >.top>span");
        var $top_sp1=$("#sp1");
        console.log($top_sp1);
        var $top_sp2=$("#sp2");
        var $refresh_sp=$(".refresh>span");

        $top_sp.click(function(){
            $(this).addClass("active").siblings().removeClass("active");
        })
        $top_sp1.click(function(){
           $(".content").show() ;
            $(".scancode").hide() ;
        })
        $top_sp2.click(function(){
            $(".scancode").show() ;
            $(".content").hide() ;
        })
        $refresh_sp.click(function(){
            $(".code-img").css("opacity",1);
            $(".refresh").hide();
        })
        $(".code-img").mouseenter(function(){
            $(this).animate({"left":40},200);
            $(".saosao").css("opacity",1);
        }).mouseleave(function(){
            $(this).animate({"left":90},200);
            $(".saosao").css("opacity",0);
        })

    })
</script>
<script>
    window.onload = function(){
        $(".zidong").html(getYzm());
        var content=document.getElementById('content');
        var aInput = document.getElementsByTagName("input");
        var aP = content.getElementsByTagName("p");
        //手机号
        aInput[0].onfocus = function(){
            aP[2].style.display="block";
            aP[3].style.display="none";
        }
        aInput[0].onblur = function(){

            var pattern = /^1\d{10}$/;
            var value   = this.value;
            var isTrue  = pattern.test(value);
            var pattern1 =  /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            var value1   = this.value;
            var isTrue1  = pattern1.test(value1);
            if(!isTrue && !isTrue1){
                aP[2].style.display="none";
                aP[3].style.display="block";
            }else{
                aP[2].style.display="none";
                aP[3].style.display="none";
            }
        }
        //密码
        aInput[1].onfocus = function(){
            aP[5].style.display="block";
            aP[6].style.display="none";
        }
        aInput[1].onblur = function(){

            var pattern =/^[0-9a-zA-Z_#]{6,16}$/;
            var value   = this.value;
            var isTrue  = pattern.test(value);

            if(!isTrue){
                aP[5].style.display="none";
                aP[6].style.display="block";
            }else{
                aP[5].style.display="none";
                aP[6].style.display="none";
            }
        }
        //验证码
//        aInput[2].onfocus = function(){
//            aP[8].style.display="block";
//            aP[9].style.display="none";
//        }
//        aInput[2].onblur = function(){
//
//            var pattern =;
//            var value   = this.value;
//            var isTrue  = pattern.test(value);
//
//            if(!isTrue){
//                aP[8].style.display="none";
//                aP[9].style.display="block";
//            }else{
//                aP[8].style.display="none";
//                aP[9].style.display="none";
//            }
//        }


        //封装一个函数产生随机的验证码
        function getYzm(){
            var str="";
            for(var i=0;i<4;i++){
                str +=parseInt(Math.random()*10);
            }
            return str;
        }
        $(".zidong").on("click", function(){
            $(this).html(getYzm());
        })
        //给登录按钮注册点击事件
        $(".jinru").on("click", function(){
            var tel = $(".tel").val();
        console.log(tel);
            var pattern = /^1\d{10}$/;
            var isTrue  = pattern.test(tel);
//            console.log(isTrue);
            var pswd = $(".pswd").val();
           console.log(pswd);
            var pattern1=/^[0-9a-zA-Z_#]{6,16}$/;
            var isTrue1 = pattern1.test(pswd);
//            console.log(isTrue1);
            if(isTrue && isTrue1 && $(".zidong").text()==$(".yzm").val()){
                var $tel = $(".tel").val();
             console.log($tel);
                var $pswd = $(".pswd").val();
              console.log($pswd);
            }
            $.ajax({
                url:"login.json",
                type:"get",
                dataType:"json",
                success: function(data){
                    //                alert(1111);
                    //                console.log(data);
                    var flag =true;
                    $.each(data, function(index,val){
                        //                    console.log(val.phone);
                        if($tel == val.phone &&$pswd==val.psw ){
                            window.location.href ="银泰网（自己）.html";
                            flag = false;
                        }
                        if(flag){
                            alert("登录不成功");

                        }
                    })
                }
            })
        })
    }
</script>
